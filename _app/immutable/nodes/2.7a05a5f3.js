import{S as _l,i as hl,s as pl,J as dl,k as u,q as p,a as w,l as c,m as b,r as d,h as a,c as y,n as E,b as M,G as t,K as Q,L as F,u as me,M as ce,H as ut,N as Jt,O as fl,P as vl,Q as xt,R as bl}from"../chunks/index.472859ec.js";function el(l,n,i){const s=l.slice();return s[47]=n[i],s}function tl(l,n,i){const s=l.slice();return s[50]=n[i],s}function ll(l,n,i){const s=l.slice();return s[50]=n[i],s}function nl(l){let n,i,s,f=l[50].name+"",r,o,_,v,T,k,P,O=l[50].known_coverage.toFixed(1)+"",ne,ie,B,ae=l[50].learning_coverage.toFixed(1)+"",W,fe,C,A=l[50].is_built_in+"",se,re,L,pe;function oe(){return l[30](l[50])}return{c(){n=u("tr"),i=u("td"),s=u("a"),r=p(f),o=w(),_=u("a"),v=p("[jpdb]"),k=w(),P=u("td"),ne=p(O),ie=w(),B=u("td"),W=p(ae),fe=w(),C=u("td"),se=p(A),re=w(),this.h()},l(X){n=c(X,"TR",{class:!0});var I=b(n);i=c(I,"TD",{class:!0});var ue=b(i);s=c(ue,"A",{href:!0});var Y=b(s);r=d(Y,f),Y.forEach(a),o=y(ue),_=c(ue,"A",{href:!0});var Z=b(_);v=d(Z,"[jpdb]"),Z.forEach(a),ue.forEach(a),k=y(I),P=c(I,"TD",{class:!0});var $=b(P);ne=d($,O),$.forEach(a),ie=y(I),B=c(I,"TD",{class:!0});var ge=b(B);W=d(ge,ae),ge.forEach(a),fe=y(I),C=c(I,"TD",{class:!0});var he=b(C);se=d(he,A),he.forEach(a),re=y(I),I.forEach(a),this.h()},h(){E(s,"href","#"),E(_,"href",T="https://jpdb.io/deck?id="+l[50].id),E(i,"class","svelte-15q9i7h"),E(P,"class","svelte-15q9i7h"),E(B,"class","svelte-15q9i7h"),E(C,"class","svelte-15q9i7h"),E(n,"class","svelte-15q9i7h")},m(X,I){M(X,n,I),t(n,i),t(i,s),t(s,r),t(i,o),t(i,_),t(_,v),t(n,k),t(n,P),t(P,ne),t(n,ie),t(n,B),t(B,W),t(n,fe),t(n,C),t(C,se),t(n,re),L||(pe=F(s,"click",oe),L=!0)},p(X,I){l=X,I[0]&131072&&f!==(f=l[50].name+"")&&me(r,f),I[0]&131072&&T!==(T="https://jpdb.io/deck?id="+l[50].id)&&E(_,"href",T),I[0]&131072&&O!==(O=l[50].known_coverage.toFixed(1)+"")&&me(ne,O),I[0]&131072&&ae!==(ae=l[50].learning_coverage.toFixed(1)+"")&&me(W,ae),I[0]&131072&&A!==(A=l[50].is_built_in+"")&&me(se,A)},d(X){X&&a(n),L=!1,pe()}}}function il(l){let n,i,s,f;return{c(){n=u("button"),i=p("add all")},l(r){n=c(r,"BUTTON",{});var o=b(n);i=d(o,"add all"),o.forEach(a)},m(r,o){M(r,n,o),t(n,i),s||(f=F(n,"click",l[31]),s=!0)},p:ut,d(r){r&&a(n),s=!1,f()}}}function al(l){let n,i=l[50].name+"",s;return{c(){n=u("p"),s=p(i)},l(f){n=c(f,"P",{});var r=b(n);s=d(r,i),r.forEach(a)},m(f,r){M(f,n,r),t(n,s)},p(f,r){r[0]&64&&i!==(i=f[50].name+"")&&me(s,i)},d(f){f&&a(n)}}}function sl(l){let n,i,s,f,r;return{c(){n=u("p"),i=p(`min decks:
                `),s=u("input"),this.h()},l(o){n=c(o,"P",{});var _=b(n);i=d(_,`min decks:
                `),s=c(_,"INPUT",{type:!0}),_.forEach(a),this.h()},h(){E(s,"type","number")},m(o,_){M(o,n,_),t(n,i),t(n,s),Q(s,l[9]),f||(r=F(s,"input",l[39]),f=!0)},p(o,_){_[0]&512&&ce(s.value)!==o[9]&&Q(s,o[9])},d(o){o&&a(n),f=!1,r()}}}function rl(l){let n,i,s,f=l[19],r=[];for(let o=0;o<f.length;o+=1)r[o]=ol(el(l,f,o));return{c(){n=u("select");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){n=c(o,"SELECT",{});var _=b(n);for(let v=0;v<r.length;v+=1)r[v].l(_);_.forEach(a),this.h()},h(){l[13]===void 0&&vl(()=>l[41].call(n))},m(o,_){M(o,n,_);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(n,null);xt(n,l[13],!0),i||(s=F(n,"change",l[41]),i=!0)},p(o,_){if(_[0]&524288){f=o[19];let v;for(v=0;v<f.length;v+=1){const T=el(o,f,v);r[v]?r[v].p(T,_):(r[v]=ol(T),r[v].c(),r[v].m(n,null))}for(;v<r.length;v+=1)r[v].d(1);r.length=f.length}_[0]&532480&&xt(n,o[13])},d(o){o&&a(n),Jt(r,o),i=!1,s()}}}function ol(l){let n,i=l[47]+"",s,f;return{c(){n=u("option"),s=p(i),f=w(),this.h()},l(r){n=c(r,"OPTION",{});var o=b(n);s=d(o,i),f=y(o),o.forEach(a),this.h()},h(){n.__value=l[47],n.value=n.__value},m(r,o){M(r,n,o),t(n,s),t(n,f)},p:ut,d(r){r&&a(n)}}}function ul(l){let n,i,s,f,r,o,_,v,T;return{c(){n=u("p"),i=p("min: "),s=u("input"),f=w(),r=u("p"),o=p("max: "),_=u("input"),this.h()},l(k){n=c(k,"P",{});var P=b(n);i=d(P,"min: "),s=c(P,"INPUT",{type:!0}),P.forEach(a),f=y(k),r=c(k,"P",{});var O=b(r);o=d(O,"max: "),_=c(O,"INPUT",{type:!0}),O.forEach(a),this.h()},h(){E(s,"type","number"),E(_,"type","number")},m(k,P){M(k,n,P),t(n,i),t(n,s),Q(s,l[15]),M(k,f,P),M(k,r,P),t(r,o),t(r,_),Q(_,l[16]),v||(T=[F(s,"input",l[43]),F(_,"input",l[44])],v=!0)},p(k,P){P[0]&32768&&ce(s.value)!==k[15]&&Q(s,k[15]),P[0]&65536&&ce(_.value)!==k[16]&&Q(_,k[16])},d(k){k&&a(n),k&&a(f),k&&a(r),v=!1,fl(T)}}}function cl(l){let n,i,s=l[11].name+"",f,r,o,_,v;return{c(){n=u("p"),i=p(`Last created:
                `),f=p(s),r=w(),o=u("a"),_=p("[jpdb]"),this.h()},l(T){n=c(T,"P",{});var k=b(n);i=d(k,`Last created:
                `),f=d(k,s),r=y(k),o=c(k,"A",{href:!0});var P=b(o);_=d(P,"[jpdb]"),P.forEach(a),k.forEach(a),this.h()},h(){E(o,"href",v="https://jpdb.io/deck?id="+l[11].id)},m(T,k){M(T,n,k),t(n,i),t(n,f),t(n,r),t(n,o),t(o,_)},p(T,k){k[0]&2048&&s!==(s=T[11].name+"")&&me(f,s),k[0]&2048&&v!==(v="https://jpdb.io/deck?id="+T[11].id)&&E(o,"href",v)},d(T){T&&a(n)}}}function kl(l){let n,i,s,f,r,o,_,v,T,k,P,O,ne,ie,B,ae,W,fe,C,A,se,re,L,pe,oe,X,I,ue,Y,Z,$,ge,he=l[17].length+"",Le,Qe,je=l[0].length+"",Re,We,Xe,_e,x,Ne,Ye,Ze,Ie,$e,xe,Me,et,g,j,D,q,R,de,N,qe,ct,ft,_t,ht,nt,He,pt,dt,Ve,vt,Ee,bt,Ce,kt,we,mt,ve,Be,ee,gt,Et,De,te,wt,yt,Ue,le,Tt,Pt,it,be,jt,Oe,Nt,It,ke,Mt,Fe,qt,Bt,ye,Dt,at,Ut,Ot,Ft,St,Je=l[17],H=[];for(let e=0;e<Je.length;e+=1)H[e]=nl(ll(l,Je,e));let J=l[0].length>0&&il(l),Se=l[6],V=[];for(let e=0;e<Se.length;e+=1)V[e]=al(tl(l,Se,e));let S=l[10]==l[18].BijakMerge&&sl(l),z=l[12]&&rl(l),G=l[14]&&ul(l),K=l[11]!=null&&cl(l);return Ot=dl(l[36][0]),{c(){n=u("p"),i=p("Put your API Token here (from the bottom of "),s=u("a"),f=p("jpdb.io/settings"),r=p("), it won't get sent anywhere except jpdb.io. Don't share it with anyone!"),o=w(),_=u("input"),v=w(),T=u("button"),k=p("Ping"),P=w(),O=u("p"),ne=p("Result:"),ie=w(),B=u("pre"),ae=p("    "),W=p(l[5]),fe=p(`
`),C=w(),A=u("button"),se=p("Fetch user decks"),re=p(`
Min coverage:
`),L=u("input"),pe=p(`
Min learning coverage:
`),oe=u("input"),X=p(`
Filter builtin:
`),I=u("input"),ue=w(),Y=u("div"),Z=u("div"),$=u("h3"),ge=p("Decklist (showing "),Le=p(he),Qe=p(" of "),Re=p(je),We=p(")"),Xe=w(),_e=u("table"),x=u("tr"),Ne=u("th"),Ye=p("name"),Ze=w(),Ie=u("th"),$e=p("coverage"),xe=w(),Me=u("th"),et=p("learning coverage"),g=w(),j=u("th"),D=p("is_built_in"),q=w();for(let e=0;e<H.length;e+=1)H[e].c();R=w(),J&&J.c(),de=w(),N=u("div"),qe=u("h3"),ct=p("Deckmerger"),ft=p(`
        selected decks:`),_t=u("br"),ht=w();for(let e=0;e<V.length;e+=1)V[e].c();nt=w(),He=u("button"),pt=p("Reset selection"),dt=w(),Ve=u("p"),vt=p(`Name of new deck
            `),Ee=u("input"),bt=w(),Ce=u("p"),kt=p(`min occurences:
            `),we=u("input"),mt=w(),ve=u("p"),Be=u("label"),ee=u("input"),gt=p(`
                Merge`),Et=w(),De=u("label"),te=u("input"),wt=p(`
                Intersect`),yt=w(),Ue=u("label"),le=u("input"),Tt=p(`
                BijakMerge`),Pt=w(),S&&S.c(),it=w(),be=u("p"),jt=p(`Filter for card state?
            `),Oe=u("input"),Nt=w(),z&&z.c(),It=w(),ke=u("p"),Mt=p(`Filter by global frequency?
            `),Fe=u("input"),qt=w(),G&&G.c(),Bt=w(),ye=u("button"),Dt=p("create deck"),Ut=w(),K&&K.c(),this.h()},l(e){n=c(e,"P",{});var h=b(n);i=d(h,"Put your API Token here (from the bottom of "),s=c(h,"A",{href:!0});var m=b(s);f=d(m,"jpdb.io/settings"),m.forEach(a),r=d(h,"), it won't get sent anywhere except jpdb.io. Don't share it with anyone!"),h.forEach(a),o=y(e),_=c(e,"INPUT",{type:!0}),v=y(e),T=c(e,"BUTTON",{type:!0});var Te=b(T);k=d(Te,"Ping"),Te.forEach(a),P=y(e),O=c(e,"P",{});var zt=b(O);ne=d(zt,"Result:"),zt.forEach(a),ie=y(e),B=c(e,"PRE",{});var st=b(B);ae=d(st,"    "),W=d(st,l[5]),fe=d(st,`
`),st.forEach(a),C=y(e),A=c(e,"BUTTON",{type:!0});var Gt=b(A);se=d(Gt,"Fetch user decks"),Gt.forEach(a),re=d(e,`
Min coverage:
`),L=c(e,"INPUT",{type:!0}),pe=d(e,`
Min learning coverage:
`),oe=c(e,"INPUT",{type:!0}),X=d(e,`
Filter builtin:
`),I=c(e,"INPUT",{type:!0}),ue=y(e),Y=c(e,"DIV",{class:!0});var rt=b(Y);Z=c(rt,"DIV",{});var ze=b(Z);$=c(ze,"H3",{});var Ge=b($);ge=d(Ge,"Decklist (showing "),Le=d(Ge,he),Qe=d(Ge," of "),Re=d(Ge,je),We=d(Ge,")"),Ge.forEach(a),Xe=y(ze),_e=c(ze,"TABLE",{class:!0});var ot=b(_e);x=c(ot,"TR",{class:!0});var Pe=b(x);Ne=c(Pe,"TH",{});var Kt=b(Ne);Ye=d(Kt,"name"),Kt.forEach(a),Ze=y(Pe),Ie=c(Pe,"TH",{});var Qt=b(Ie);$e=d(Qt,"coverage"),Qt.forEach(a),xe=y(Pe),Me=c(Pe,"TH",{});var Wt=b(Me);et=d(Wt,"learning coverage"),Wt.forEach(a),g=y(Pe),j=c(Pe,"TH",{});var Xt=b(j);D=d(Xt,"is_built_in"),Xt.forEach(a),Pe.forEach(a),q=y(ot);for(let Ae=0;Ae<H.length;Ae+=1)H[Ae].l(ot);ot.forEach(a),R=y(ze),J&&J.l(ze),ze.forEach(a),de=y(rt),N=c(rt,"DIV",{id:!0});var U=b(N);qe=c(U,"H3",{});var Yt=b(qe);ct=d(Yt,"Deckmerger"),Yt.forEach(a),ft=d(U,`
        selected decks:`),_t=c(U,"BR",{}),ht=y(U);for(let Ae=0;Ae<V.length;Ae+=1)V[Ae].l(U);nt=y(U),He=c(U,"BUTTON",{});var Zt=b(He);pt=d(Zt,"Reset selection"),Zt.forEach(a),dt=y(U),Ve=c(U,"P",{});var At=b(Ve);vt=d(At,`Name of new deck
            `),Ee=c(At,"INPUT",{type:!0}),At.forEach(a),bt=y(U),Ce=c(U,"P",{});var Lt=b(Ce);kt=d(Lt,`min occurences:
            `),we=c(Lt,"INPUT",{type:!0}),Lt.forEach(a),mt=y(U),ve=c(U,"P",{});var Ke=b(ve);Be=c(Ke,"LABEL",{title:!0});var Rt=b(Be);ee=c(Rt,"INPUT",{type:!0,name:!0}),gt=d(Rt,`
                Merge`),Rt.forEach(a),Et=y(Ke),De=c(Ke,"LABEL",{title:!0});var Ht=b(De);te=c(Ht,"INPUT",{type:!0,name:!0}),wt=d(Ht,`
                Intersect`),Ht.forEach(a),yt=y(Ke),Ue=c(Ke,"LABEL",{title:!0});var Vt=b(Ue);le=c(Vt,"INPUT",{type:!0,name:!0}),Tt=d(Vt,`
                BijakMerge`),Vt.forEach(a),Ke.forEach(a),Pt=y(U),S&&S.l(U),it=y(U),be=c(U,"P",{});var tt=b(be);jt=d(tt,`Filter for card state?
            `),Oe=c(tt,"INPUT",{type:!0}),Nt=y(tt),z&&z.l(tt),tt.forEach(a),It=y(U),ke=c(U,"P",{});var lt=b(ke);Mt=d(lt,`Filter by global frequency?
            `),Fe=c(lt,"INPUT",{type:!0}),qt=y(lt),G&&G.l(lt),lt.forEach(a),Bt=y(U),ye=c(U,"BUTTON",{});var $t=b(ye);Dt=d($t,"create deck"),$t.forEach(a),Ut=y(U),K&&K.l(U),U.forEach(a),rt.forEach(a),this.h()},h(){E(s,"href","https://jpdb.io/settings"),E(_,"type","password"),E(T,"type","button"),E(A,"type","button"),E(L,"type","number"),E(oe,"type","number"),E(I,"type","checkbox"),E(x,"class","svelte-15q9i7h"),E(_e,"class","svelte-15q9i7h"),E(Ee,"type","text"),E(we,"type","number"),E(ee,"type","radio"),E(ee,"name","strat"),ee.__value=l[18].Merge,ee.value=ee.__value,E(Be,"title","Merges decks into new deck, adds up all vocab occurences, then removes all vocab where occurences < min_occurences"),E(te,"type","radio"),E(te,"name","strat"),te.__value=l[18].Intersect,te.value=te.__value,E(De,"title","Only adds those words into the new deck that appear in all decks. Then removes all where occurences < min_occurences"),E(le,"type","radio"),E(le,"name","strat"),le.__value=l[18].BijakMerge,le.value=le.__value,E(Ue,"title","The BijakMerge (named after its inventor) works just like the regular merge, but also needs a minimum number of decks for a word to appear in for it to be included."),E(Oe,"type","checkbox"),E(Fe,"type","checkbox"),ye.disabled=at=l[6].length<=0,E(N,"id","deckmerger_div"),E(Y,"class","container svelte-15q9i7h"),Ot.p(ee,te,le)},m(e,h){M(e,n,h),t(n,i),t(n,s),t(s,f),t(n,r),M(e,o,h),M(e,_,h),Q(_,l[4]),M(e,v,h),M(e,T,h),t(T,k),M(e,P,h),M(e,O,h),t(O,ne),M(e,ie,h),M(e,B,h),t(B,ae),t(B,W),t(B,fe),M(e,C,h),M(e,A,h),t(A,se),M(e,re,h),M(e,L,h),Q(L,l[1]),M(e,pe,h),M(e,oe,h),Q(oe,l[2]),M(e,X,h),M(e,I,h),I.checked=l[3],M(e,ue,h),M(e,Y,h),t(Y,Z),t(Z,$),t($,ge),t($,Le),t($,Qe),t($,Re),t($,We),t(Z,Xe),t(Z,_e),t(_e,x),t(x,Ne),t(Ne,Ye),t(x,Ze),t(x,Ie),t(Ie,$e),t(x,xe),t(x,Me),t(Me,et),t(x,g),t(x,j),t(j,D),t(_e,q);for(let m=0;m<H.length;m+=1)H[m]&&H[m].m(_e,null);t(Z,R),J&&J.m(Z,null),t(Y,de),t(Y,N),t(N,qe),t(qe,ct),t(N,ft),t(N,_t),t(N,ht);for(let m=0;m<V.length;m+=1)V[m]&&V[m].m(N,null);t(N,nt),t(N,He),t(He,pt),t(N,dt),t(N,Ve),t(Ve,vt),t(Ve,Ee),Q(Ee,l[7]),t(N,bt),t(N,Ce),t(Ce,kt),t(Ce,we),Q(we,l[8]),t(N,mt),t(N,ve),t(ve,Be),t(Be,ee),ee.checked=ee.__value===l[10],t(Be,gt),t(ve,Et),t(ve,De),t(De,te),te.checked=te.__value===l[10],t(De,wt),t(ve,yt),t(ve,Ue),t(Ue,le),le.checked=le.__value===l[10],t(Ue,Tt),t(N,Pt),S&&S.m(N,null),t(N,it),t(N,be),t(be,jt),t(be,Oe),Oe.checked=l[12],t(be,Nt),z&&z.m(be,null),t(N,It),t(N,ke),t(ke,Mt),t(ke,Fe),Fe.checked=l[14],t(ke,qt),G&&G.m(ke,null),t(N,Bt),t(N,ye),t(ye,Dt),t(N,Ut),K&&K.m(N,null),Ft||(St=[F(_,"input",l[26]),F(T,"click",l[20]),F(A,"click",l[21]),F(L,"input",l[27]),F(oe,"input",l[28]),F(I,"change",l[29]),F(He,"click",l[32]),F(Ee,"input",l[33]),F(we,"input",l[34]),F(ee,"change",l[35]),F(te,"change",l[37]),F(le,"change",l[38]),F(Oe,"change",l[40]),F(Fe,"change",l[42]),F(ye,"click",l[45])],Ft=!0)},p(e,h){if(h[0]&16&&_.value!==e[4]&&Q(_,e[4]),h[0]&32&&me(W,e[5]),h[0]&2&&ce(L.value)!==e[1]&&Q(L,e[1]),h[0]&4&&ce(oe.value)!==e[2]&&Q(oe,e[2]),h[0]&8&&(I.checked=e[3]),h[0]&131072&&he!==(he=e[17].length+"")&&me(Le,he),h[0]&1&&je!==(je=e[0].length+"")&&me(Re,je),h[0]&131136){Je=e[17];let m;for(m=0;m<Je.length;m+=1){const Te=ll(e,Je,m);H[m]?H[m].p(Te,h):(H[m]=nl(Te),H[m].c(),H[m].m(_e,null))}for(;m<H.length;m+=1)H[m].d(1);H.length=Je.length}if(e[0].length>0?J?J.p(e,h):(J=il(e),J.c(),J.m(Z,null)):J&&(J.d(1),J=null),h[0]&64){Se=e[6];let m;for(m=0;m<Se.length;m+=1){const Te=tl(e,Se,m);V[m]?V[m].p(Te,h):(V[m]=al(Te),V[m].c(),V[m].m(N,nt))}for(;m<V.length;m+=1)V[m].d(1);V.length=Se.length}h[0]&128&&Ee.value!==e[7]&&Q(Ee,e[7]),h[0]&256&&ce(we.value)!==e[8]&&Q(we,e[8]),h[0]&1024&&(ee.checked=ee.__value===e[10]),h[0]&1024&&(te.checked=te.__value===e[10]),h[0]&1024&&(le.checked=le.__value===e[10]),e[10]==e[18].BijakMerge?S?S.p(e,h):(S=sl(e),S.c(),S.m(N,it)):S&&(S.d(1),S=null),h[0]&4096&&(Oe.checked=e[12]),e[12]?z?z.p(e,h):(z=rl(e),z.c(),z.m(be,null)):z&&(z.d(1),z=null),h[0]&16384&&(Fe.checked=e[14]),e[14]?G?G.p(e,h):(G=ul(e),G.c(),G.m(ke,null)):G&&(G.d(1),G=null),h[0]&64&&at!==(at=e[6].length<=0)&&(ye.disabled=at),e[11]!=null?K?K.p(e,h):(K=cl(e),K.c(),K.m(N,null)):K&&(K.d(1),K=null)},i:ut,o:ut,d(e){e&&a(n),e&&a(o),e&&a(_),e&&a(v),e&&a(T),e&&a(P),e&&a(O),e&&a(ie),e&&a(B),e&&a(C),e&&a(A),e&&a(re),e&&a(L),e&&a(pe),e&&a(oe),e&&a(X),e&&a(I),e&&a(ue),e&&a(Y),Jt(H,e),J&&J.d(),Jt(V,e),S&&S.d(),z&&z.d(),G&&G.d(),K&&K.d(),Ot.r(),Ft=!1,fl(St)}}}function Ct(l,n){const i=[];for(const s of l)for(const f of s){const r=i.find(o=>o.vid===f.vid&&o.sid===f.sid);r!=null?(r.occurences+=f.occurences,r.decks+=1):i.push({decks:1,...f})}return i.filter(s=>s.decks>=n)}function ml(l,n,i){let s;var f=(g=>(g[g.Merge=0]="Merge",g[g.Intersect=1]="Intersect",g[g.BijakMerge=2]="BijakMerge",g))(f||{});let r="",o="",_=[],v=80,T=80,k=!1,P=[],O="",ne=1,ie=1,B=0,ae=null,W=!1,fe=["new","locked","learning","known","due","failed","never-forget","suspended","blacklisted"],C=fe[0],A=!1,se=1,re=3e4;async function L(g,j){let D=new Headers;return D.set("Authorization","Bearer "+r),D.set("Content-Type","application/json"),await fetch("https://jpdb.io/api/v1/"+g,{headers:D,method:"POST",body:JSON.stringify(j)})}async function pe(){const j=await(await L("ping",{})).json();i(5,o=JSON.stringify(j))}async function oe(){const j=await(await L("list-user-decks",{fields:["name","vocabulary_known_coverage","vocabulary_in_progress_coverage","is_built_in","id"]})).json();i(0,_=j.decks.map(D=>{let[q,R,de,N,qe]=D;return{name:q,id:qe,known_coverage:R,learning_coverage:de,is_built_in:N}})),_.sort((D,q)=>D.name.localeCompare(q.name))}async function X(g){const j=await(await L("deck/list-vocabulary",{id:g.id,fetch_occurences:!0})).json();let D=[];for(let q=0;q<j.vocabulary.length;q++){let R={vid:j.vocabulary[q][0],sid:j.vocabulary[q][1],occurences:j.occurences[q]};D.push(R)}return{vocabs:D,...g}}async function I(g){const j=g.map(R=>[R.vid,R.sid]),D=await(await L("lookup-vocabulary",{list:j,fields:["card_state","frequency_rank"]})).json();let q=[];for(let R=0;R<D.vocabulary_info.length;R++)q.push({state:D.vocabulary_info[R][0],frequency:D.vocabulary_info[R][1],...g[R]});return q}async function ue(g,j){let D=[],q=[];j.forEach(de=>{D.push([de.vid,de.sid]),q.push(de.occurences)});const R=await(await L("deck/add-vocabulary",{id:g,vocabulary:D,occurences:q})).json();i(5,o=JSON.stringify(R))}async function Y(g){return(await(await L("deck/create-empty",{name:g})).json()).id}const Z=[[]];function $(){r=this.value,i(4,r)}function ge(){v=ce(this.value),i(1,v)}function he(){T=ce(this.value),i(2,T)}function Le(){k=this.checked,i(3,k)}const Qe=g=>{P.push(g),i(6,P)},je=async()=>{i(6,P=P.concat(s))},Re=()=>{i(6,P=[])};function We(){O=this.value,i(7,O)}function Xe(){ne=ce(this.value),i(8,ne)}function _e(){B=this.__value,i(10,B)}function x(){B=this.__value,i(10,B)}function Ne(){B=this.__value,i(10,B)}function Ye(){ie=ce(this.value),i(9,ie)}function Ze(){W=this.checked,i(12,W)}function Ie(){C=bl(this),i(13,C),i(19,fe)}function $e(){A=this.checked,i(14,A)}function xe(){se=ce(this.value),i(15,se)}function Me(){re=ce(this.value),i(16,re)}const et=async()=>{if(O!==""){i(11,ae=null);const g=[];for(const q of P){const R=await X(q);g.push(R.vocabs)}let j;switch(B){case f.Merge:j=Ct(g,1);break;case f.Intersect:j=Ct(g,g.length);break;case f.BijakMerge:j=Ct(g,ie);break}j=j.filter(q=>q.occurences>=ne),(W||A)&&(j=await I(j),W&&(j=j.filter(q=>q.state[0]===C)),A&&(j=j.filter(q=>se<=q.frequency&&q.frequency<=re)));const D=await Y(O);await ue(D,j),i(11,ae={id:D,name:O})}};return l.$$.update=()=>{l.$$.dirty[0]&15&&i(17,s=_.filter(g=>g.known_coverage>=v&&g.learning_coverage>=T&&(g.is_built_in||!k)))},[_,v,T,k,r,o,P,O,ne,ie,B,ae,W,C,A,se,re,s,f,fe,pe,oe,X,I,ue,Y,$,ge,he,Le,Qe,je,Re,We,Xe,_e,Z,x,Ne,Ye,Ze,Ie,$e,xe,Me,et]}class El extends _l{constructor(n){super(),hl(this,n,ml,kl,pl,{},null,[-1,-1])}}export{El as component};
