import{S as Wl,i as Jl,s as Yl,J as zl,k as o,q as d,a as E,l as u,m as p,r as v,h as s,c as y,n as b,K as ye,b as j,G as t,L as ee,M as L,u as me,N as ge,H as It,O as kl,P as Hl,p as kt,Q as Gl,R as Bl,T as Kl}from"../chunks/index.d827bab5.js";function Ml(l,n,a){const i=l.slice();return i[54]=n[a],i}function Dl(l,n,a){const i=l.slice();return i[57]=n[a],i}function Ll(l,n,a){const i=l.slice();return i[57]=n[a],i}function Ul(l){let n,a,i,h=l[57].name+"",r,c,g,k,N,m,B,C=l[57].known_coverage.toFixed(1)+"",A,te,O,le=l[57].learning_coverage.toFixed(1)+"",F,ne,H,se=l[57].vocab_count+"",R,fe,W,ae=l[57].word_count+"",K,re,he,pe=l[57].is_built_in+"",J,be,Q,Te;function de(){return l[37](l[57])}return{c(){n=o("tr"),a=o("td"),i=o("a"),r=d(h),c=E(),g=o("a"),k=d("[jpdb]"),m=E(),B=o("td"),A=d(C),te=E(),O=o("td"),F=d(le),ne=E(),H=o("td"),R=d(se),fe=E(),W=o("td"),K=d(ae),re=E(),he=o("td"),J=d(pe),be=E(),this.h()},l(ie){n=u(ie,"TR",{class:!0});var P=p(n);a=u(P,"TD",{class:!0});var Y=p(a);i=u(Y,"A",{href:!0});var oe=p(i);r=v(oe,h),oe.forEach(s),c=y(Y),g=u(Y,"A",{href:!0});var Ae=p(g);k=v(Ae,"[jpdb]"),Ae.forEach(s),Y.forEach(s),m=y(P),B=u(P,"TD",{style:!0,class:!0});var we=p(B);A=v(we,C),we.forEach(s),te=y(P),O=u(P,"TD",{style:!0,class:!0});var Pe=p(O);F=v(Pe,le),Pe.forEach(s),ne=y(P),H=u(P,"TD",{style:!0,class:!0});var Oe=p(H);R=v(Oe,se),Oe.forEach(s),fe=y(P),W=u(P,"TD",{style:!0,class:!0});var Ee=p(W);K=v(Ee,ae),Ee.forEach(s),re=y(P),he=u(P,"TD",{style:!0,class:!0});var je=p(he);J=v(je,pe),je.forEach(s),be=y(P),P.forEach(s),this.h()},h(){b(i,"href","#"),b(g,"href",N="https://jpdb.io/deck?id="+l[57].id),b(a,"class","svelte-1sg2hnm"),kt(B,"text-align","right"),b(B,"class","svelte-1sg2hnm"),kt(O,"text-align","right"),b(O,"class","svelte-1sg2hnm"),kt(H,"text-align","right"),b(H,"class","svelte-1sg2hnm"),kt(W,"text-align","right"),b(W,"class","svelte-1sg2hnm"),kt(he,"text-align","center"),b(he,"class","svelte-1sg2hnm"),b(n,"class","svelte-1sg2hnm")},m(ie,P){j(ie,n,P),t(n,a),t(a,i),t(i,r),t(a,c),t(a,g),t(g,k),t(n,m),t(n,B),t(B,A),t(n,te),t(n,O),t(O,F),t(n,ne),t(n,H),t(H,R),t(n,fe),t(n,W),t(W,K),t(n,re),t(n,he),t(he,J),t(n,be),Q||(Te=L(i,"click",de),Q=!0)},p(ie,P){l=ie,P[0]&262144&&h!==(h=l[57].name+"")&&me(r,h),P[0]&262144&&N!==(N="https://jpdb.io/deck?id="+l[57].id)&&b(g,"href",N),P[0]&262144&&C!==(C=l[57].known_coverage.toFixed(1)+"")&&me(A,C),P[0]&262144&&le!==(le=l[57].learning_coverage.toFixed(1)+"")&&me(F,le),P[0]&262144&&se!==(se=l[57].vocab_count+"")&&me(R,se),P[0]&262144&&ae!==(ae=l[57].word_count+"")&&me(K,ae),P[0]&262144&&pe!==(pe=l[57].is_built_in+"")&&me(J,pe)},d(ie){ie&&s(n),Q=!1,Te()}}}function Al(l){let n,a,i,h;return{c(){n=o("button"),a=d("add all")},l(r){n=u(r,"BUTTON",{});var c=p(n);a=v(c,"add all"),c.forEach(s)},m(r,c){j(r,n,c),t(n,a),i||(h=L(n,"click",l[38]),i=!0)},p:It,d(r){r&&s(n),i=!1,h()}}}function Ol(l){let n,a=l[57].name+"",i;return{c(){n=o("p"),i=d(a)},l(h){n=u(h,"P",{});var r=p(n);i=v(r,a),r.forEach(s)},m(h,r){j(h,n,r),t(n,i)},p(h,r){r[0]&128&&a!==(a=h[57].name+"")&&me(i,a)},d(h){h&&s(n)}}}function ql(l){let n,a,i,h,r;return{c(){n=o("p"),a=d(`min decks:
                `),i=o("input"),this.h()},l(c){n=u(c,"P",{});var g=p(n);a=v(g,`min decks:
                `),i=u(g,"INPUT",{type:!0}),g.forEach(s),this.h()},h(){b(i,"type","number")},m(c,g){j(c,n,g),t(n,a),t(n,i),ee(i,l[10]),h||(r=L(i,"input",l[46]),h=!0)},p(c,g){g[0]&1024&&ge(i.value)!==c[10]&&ee(i,c[10])},d(c){c&&s(n),h=!1,r()}}}function Cl(l){let n,a,i,h=l[21],r=[];for(let c=0;c<h.length;c+=1)r[c]=Fl(Ml(l,h,c));return{c(){n=o("select");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){n=u(c,"SELECT",{});var g=p(n);for(let k=0;k<r.length;k+=1)r[k].l(g);g.forEach(s),this.h()},h(){l[14]===void 0&&Gl(()=>l[48].call(n))},m(c,g){j(c,n,g);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(n,null);Bl(n,l[14],!0),a||(i=L(n,"change",l[48]),a=!0)},p(c,g){if(g[0]&2097152){h=c[21];let k;for(k=0;k<h.length;k+=1){const N=Ml(c,h,k);r[k]?r[k].p(N,g):(r[k]=Fl(N),r[k].c(),r[k].m(n,null))}for(;k<r.length;k+=1)r[k].d(1);r.length=h.length}g[0]&2113536&&Bl(n,c[14])},d(c){c&&s(n),kl(r,c),a=!1,i()}}}function Fl(l){let n,a=l[54]+"",i,h;return{c(){n=o("option"),i=d(a),h=E(),this.h()},l(r){n=u(r,"OPTION",{});var c=p(n);i=v(c,a),h=y(c),c.forEach(s),this.h()},h(){n.__value=l[54],n.value=n.__value},m(r,c){j(r,n,c),t(n,i),t(n,h)},p:It,d(r){r&&s(n)}}}function Rl(l){let n,a,i,h,r,c,g,k,N;return{c(){n=o("p"),a=d("min: "),i=o("input"),h=E(),r=o("p"),c=d("max: "),g=o("input"),this.h()},l(m){n=u(m,"P",{});var B=p(n);a=v(B,"min: "),i=u(B,"INPUT",{type:!0}),B.forEach(s),h=y(m),r=u(m,"P",{});var C=p(r);c=v(C,"max: "),g=u(C,"INPUT",{type:!0}),C.forEach(s),this.h()},h(){b(i,"type","number"),b(g,"type","number")},m(m,B){j(m,n,B),t(n,a),t(n,i),ee(i,l[16]),j(m,h,B),j(m,r,B),t(r,c),t(r,g),ee(g,l[17]),k||(N=[L(i,"input",l[50]),L(g,"input",l[51])],k=!0)},p(m,B){B[0]&65536&&ge(i.value)!==m[16]&&ee(i,m[16]),B[0]&131072&&ge(g.value)!==m[17]&&ee(g,m[17])},d(m){m&&s(n),m&&s(h),m&&s(r),k=!1,Hl(N)}}}function Vl(l){let n,a,i=l[12].name+"",h,r,c,g,k;return{c(){n=o("p"),a=d(`Last created:
                `),h=d(i),r=E(),c=o("a"),g=d("[jpdb]"),this.h()},l(N){n=u(N,"P",{});var m=p(n);a=v(m,`Last created:
                `),h=v(m,i),r=y(m),c=u(m,"A",{href:!0});var B=p(c);g=v(B,"[jpdb]"),B.forEach(s),m.forEach(s),this.h()},h(){b(c,"href",k="https://jpdb.io/deck?id="+l[12].id)},m(N,m){j(N,n,m),t(n,a),t(n,h),t(n,r),t(n,c),t(c,g)},p(N,m){m[0]&4096&&i!==(i=N[12].name+"")&&me(h,i),m[0]&4096&&k!==(k="https://jpdb.io/deck?id="+N[12].id)&&b(c,"href",k)},d(N){N&&s(n)}}}function Ql(l){let n,a,i,h,r,c,g,k,N,m,B,C,A,te,O,le,F,ne,H,se,R,fe,W,ae,K,re,he,pe,J,be,Q,Te,de,ie,P,Y,oe,Ae,we=l[18].length+"",Pe,Oe,Ee=l[0].length+"",je,it,ot,ke,V,Ne,qe,Ze,ut,ct,Ie,Ce,Se,_t,_,w,D,M,q,Be,ft,ht,Me,Fe,mt,Bt,Mt,Je,$e,wt,Dt,Lt,pt,Ut,At,Ot,qt,I,dt,Ct,Ft,Rt,Vt,Et,xe,Ht,Wt,et,Jt,Re,Yt,tt,zt,Ve,Gt,De,Ye,ue,Kt,Qt,ze,ce,Xt,Zt,Ge,_e,St,$t,yt,Le,xt,Ke,el,tl,Ue,ll,Qe,nl,sl,He,al,Tt,rl,il,ol,ml,lt=l[18],z=[];for(let e=0;e<lt.length;e+=1)z[e]=Ul(Ll(l,lt,e));let X=l[0].length>0&&Al(l),nt=l[7],G=[];for(let e=0;e<nt.length;e+=1)G[e]=Ol(Dl(l,nt,e));let Z=l[11]==l[19].BijakMerge&&ql(l),S=l[13]&&Cl(l),$=l[15]&&Rl(l),x=l[12]!=null&&Vl(l);return il=zl(l[43][0]),{c(){n=o("p"),a=d("Put your API Token here (from the bottom of "),i=o("a"),h=d("jpdb.io/settings"),r=d("), it won't get sent anywhere except jpdb.io. Don't share it with anyone!"),c=E(),g=o("p"),k=d("After you have done this press fetch user decks."),N=E(),m=o("p"),B=d(`You can enter the token in your browsers password manager if you don't want
    to input it every time you use this site.`),C=E(),A=o("input"),te=E(),O=o("button"),le=d("Ping"),F=E(),ne=o("p"),H=d("Result:"),se=E(),R=o("pre"),fe=d("    "),W=d(l[6]),ae=d(`
`),K=E(),re=o("button"),he=d("Fetch user decks"),pe=d(`
Min coverage:
`),J=o("input"),be=d(`
Min learning coverage:
`),Q=o("input"),Te=d(`
Filter builtin:
`),de=o("input"),ie=E(),P=o("div"),Y=o("div"),oe=o("h3"),Ae=d("Decklist (showing "),Pe=d(we),Oe=d(" of "),je=d(Ee),it=d(")"),ot=E(),ke=o("table"),V=o("tr"),Ne=o("th"),qe=o("i"),ut=d(`
                    name`),ct=E(),Ie=o("th"),Ce=o("i"),_t=d(`
                    coverage`),_=E(),w=o("th"),D=o("i"),q=d(`
                    learning`),Be=o("br"),ft=d("coverage"),ht=E(),Me=o("th"),Fe=o("i"),Bt=d(`
                    vocab`),Mt=E(),Je=o("th"),$e=o("i"),Dt=d(`
                    words`),Lt=E(),pt=o("th"),Ut=d("is_built_in"),At=E();for(let e=0;e<z.length;e+=1)z[e].c();Ot=E(),X&&X.c(),qt=E(),I=o("div"),dt=o("h3"),Ct=d("Deckmerger"),Ft=d(`
        selected decks:`),Rt=o("br"),Vt=E();for(let e=0;e<G.length;e+=1)G[e].c();Et=E(),xe=o("button"),Ht=d("Reset selection"),Wt=E(),et=o("p"),Jt=d(`Name of new deck
            `),Re=o("input"),Yt=E(),tt=o("p"),zt=d(`min occurences:
            `),Ve=o("input"),Gt=E(),De=o("p"),Ye=o("label"),ue=o("input"),Kt=d(`
                Merge`),Qt=E(),ze=o("label"),ce=o("input"),Xt=d(`
                Intersect`),Zt=E(),Ge=o("label"),_e=o("input"),St=d(`
                BijakMerge`),$t=E(),Z&&Z.c(),yt=E(),Le=o("p"),xt=d(`Filter for card state?
            `),Ke=o("input"),el=E(),S&&S.c(),tl=E(),Ue=o("p"),ll=d(`Filter by global frequency?
            `),Qe=o("input"),nl=E(),$&&$.c(),sl=E(),He=o("button"),al=d("create deck"),rl=E(),x&&x.c(),this.h()},l(e){n=u(e,"P",{});var f=p(n);a=v(f,"Put your API Token here (from the bottom of "),i=u(f,"A",{href:!0});var T=p(i);h=v(T,"jpdb.io/settings"),T.forEach(s),r=v(f,"), it won't get sent anywhere except jpdb.io. Don't share it with anyone!"),f.forEach(s),c=y(e),g=u(e,"P",{});var We=p(g);k=v(We,"After you have done this press fetch user decks."),We.forEach(s),N=y(e),m=u(e,"P",{});var wl=p(m);B=v(wl,`You can enter the token in your browsers password manager if you don't want
    to input it every time you use this site.`),wl.forEach(s),C=y(e),A=u(e,"INPUT",{type:!0}),te=y(e),O=u(e,"BUTTON",{type:!0});var El=p(O);le=v(El,"Ping"),El.forEach(s),F=y(e),ne=u(e,"P",{});var yl=p(ne);H=v(yl,"Result:"),yl.forEach(s),se=y(e),R=u(e,"PRE",{});var Pt=p(R);fe=v(Pt,"    "),W=v(Pt,l[6]),ae=v(Pt,`
`),Pt.forEach(s),K=y(e),re=u(e,"BUTTON",{type:!0});var Tl=p(re);he=v(Tl,"Fetch user decks"),Tl.forEach(s),pe=v(e,`
Min coverage:
`),J=u(e,"INPUT",{type:!0}),be=v(e,`
Min learning coverage:
`),Q=u(e,"INPUT",{type:!0}),Te=v(e,`
Filter builtin:
`),de=u(e,"INPUT",{type:!0}),ie=y(e),P=u(e,"DIV",{class:!0});var jt=p(P);Y=u(jt,"DIV",{});var st=p(Y);oe=u(st,"H3",{});var at=p(oe);Ae=v(at,"Decklist (showing "),Pe=v(at,we),Oe=v(at," of "),je=v(at,Ee),it=v(at,")"),at.forEach(s),ot=y(st),ke=u(st,"TABLE",{class:!0});var Nt=p(ke);V=u(Nt,"TR",{class:!0});var ve=p(V);Ne=u(ve,"TH",{});var ul=p(Ne);qe=u(ul,"I",{class:!0}),p(qe).forEach(s),ut=v(ul,`
                    name`),ul.forEach(s),ct=y(ve),Ie=u(ve,"TH",{});var cl=p(Ie);Ce=u(cl,"I",{class:!0}),p(Ce).forEach(s),_t=v(cl,`
                    coverage`),cl.forEach(s),_=y(ve),w=u(ve,"TH",{});var vt=p(w);D=u(vt,"I",{class:!0}),p(D).forEach(s),q=v(vt,`
                    learning`),Be=u(vt,"BR",{}),ft=v(vt,"coverage"),vt.forEach(s),ht=y(ve),Me=u(ve,"TH",{});var _l=p(Me);Fe=u(_l,"I",{class:!0}),p(Fe).forEach(s),Bt=v(_l,`
                    vocab`),_l.forEach(s),Mt=y(ve),Je=u(ve,"TH",{});var fl=p(Je);$e=u(fl,"I",{class:!0}),p($e).forEach(s),Dt=v(fl,`
                    words`),fl.forEach(s),Lt=y(ve),pt=u(ve,"TH",{});var Pl=p(pt);Ut=v(Pl,"is_built_in"),Pl.forEach(s),ve.forEach(s),At=y(Nt);for(let Xe=0;Xe<z.length;Xe+=1)z[Xe].l(Nt);Nt.forEach(s),Ot=y(st),X&&X.l(st),st.forEach(s),qt=y(jt),I=u(jt,"DIV",{id:!0});var U=p(I);dt=u(U,"H3",{});var jl=p(dt);Ct=v(jl,"Deckmerger"),jl.forEach(s),Ft=v(U,`
        selected decks:`),Rt=u(U,"BR",{}),Vt=y(U);for(let Xe=0;Xe<G.length;Xe+=1)G[Xe].l(U);Et=y(U),xe=u(U,"BUTTON",{});var Nl=p(xe);Ht=v(Nl,"Reset selection"),Nl.forEach(s),Wt=y(U),et=u(U,"P",{});var hl=p(et);Jt=v(hl,`Name of new deck
            `),Re=u(hl,"INPUT",{type:!0}),hl.forEach(s),Yt=y(U),tt=u(U,"P",{});var pl=p(tt);zt=v(pl,`min occurences:
            `),Ve=u(pl,"INPUT",{type:!0}),pl.forEach(s),Gt=y(U),De=u(U,"P",{});var rt=p(De);Ye=u(rt,"LABEL",{title:!0});var dl=p(Ye);ue=u(dl,"INPUT",{type:!0,name:!0}),Kt=v(dl,`
                Merge`),dl.forEach(s),Qt=y(rt),ze=u(rt,"LABEL",{title:!0});var vl=p(ze);ce=u(vl,"INPUT",{type:!0,name:!0}),Xt=v(vl,`
                Intersect`),vl.forEach(s),Zt=y(rt),Ge=u(rt,"LABEL",{title:!0});var gl=p(Ge);_e=u(gl,"INPUT",{type:!0,name:!0}),St=v(gl,`
                BijakMerge`),gl.forEach(s),rt.forEach(s),$t=y(U),Z&&Z.l(U),yt=y(U),Le=u(U,"P",{});var gt=p(Le);xt=v(gt,`Filter for card state?
            `),Ke=u(gt,"INPUT",{type:!0}),el=y(gt),S&&S.l(gt),gt.forEach(s),tl=y(U),Ue=u(U,"P",{});var bt=p(Ue);ll=v(bt,`Filter by global frequency?
            `),Qe=u(bt,"INPUT",{type:!0}),nl=y(bt),$&&$.l(bt),bt.forEach(s),sl=y(U),He=u(U,"BUTTON",{});var Il=p(He);al=v(Il,"create deck"),Il.forEach(s),rl=y(U),x&&x.l(U),U.forEach(s),jt.forEach(s),this.h()},h(){b(i,"href","https://jpdb.io/settings"),b(A,"type","password"),b(O,"type","button"),b(re,"type","button"),b(J,"type","number"),b(Q,"type","number"),b(de,"type","checkbox"),b(qe,"class",Ze=ye(l[1]==l[20].Name?"sorting_asc":"sorting")+" svelte-1sg2hnm"),b(Ce,"class",Se=ye(l[1]==l[20].Coverage?"sorting_desc":"sorting")+" svelte-1sg2hnm"),b(D,"class",M=ye(l[1]==l[20].Learning?"sorting_desc":"sorting")+" svelte-1sg2hnm"),b(Fe,"class",mt=ye(l[1]==l[20].VocabCount?"sorting_desc":"sorting")+" svelte-1sg2hnm"),b($e,"class",wt=ye(l[1]==l[20].WordCount?"sorting_desc":"sorting")+" svelte-1sg2hnm"),b(V,"class","svelte-1sg2hnm"),b(ke,"class","svelte-1sg2hnm"),b(Re,"type","text"),b(Ve,"type","number"),b(ue,"type","radio"),b(ue,"name","strat"),ue.__value=l[19].Merge,ue.value=ue.__value,b(Ye,"title","Merges decks into new deck, adds up all vocab occurences, then removes all vocab where occurences < min_occurences"),b(ce,"type","radio"),b(ce,"name","strat"),ce.__value=l[19].Intersect,ce.value=ce.__value,b(ze,"title","Only adds those words into the new deck that appear in all decks. Then removes all where occurences < min_occurences"),b(_e,"type","radio"),b(_e,"name","strat"),_e.__value=l[19].BijakMerge,_e.value=_e.__value,b(Ge,"title","The BijakMerge (named after its inventor) works just like the regular merge, but also needs a minimum number of decks for a word to appear in for it to be included."),b(Ke,"type","checkbox"),b(Qe,"type","checkbox"),He.disabled=Tt=l[7].length<=0,b(I,"id","deckmerger_div"),b(P,"class","container svelte-1sg2hnm"),il.p(ue,ce,_e)},m(e,f){j(e,n,f),t(n,a),t(n,i),t(i,h),t(n,r),j(e,c,f),j(e,g,f),t(g,k),j(e,N,f),j(e,m,f),t(m,B),j(e,C,f),j(e,A,f),ee(A,l[5]),j(e,te,f),j(e,O,f),t(O,le),j(e,F,f),j(e,ne,f),t(ne,H),j(e,se,f),j(e,R,f),t(R,fe),t(R,W),t(R,ae),j(e,K,f),j(e,re,f),t(re,he),j(e,pe,f),j(e,J,f),ee(J,l[2]),j(e,be,f),j(e,Q,f),ee(Q,l[3]),j(e,Te,f),j(e,de,f),de.checked=l[4],j(e,ie,f),j(e,P,f),t(P,Y),t(Y,oe),t(oe,Ae),t(oe,Pe),t(oe,Oe),t(oe,je),t(oe,it),t(Y,ot),t(Y,ke),t(ke,V),t(V,Ne),t(Ne,qe),t(Ne,ut),t(V,ct),t(V,Ie),t(Ie,Ce),t(Ie,_t),t(V,_),t(V,w),t(w,D),t(w,q),t(w,Be),t(w,ft),t(V,ht),t(V,Me),t(Me,Fe),t(Me,Bt),t(V,Mt),t(V,Je),t(Je,$e),t(Je,Dt),t(V,Lt),t(V,pt),t(pt,Ut),t(ke,At);for(let T=0;T<z.length;T+=1)z[T]&&z[T].m(ke,null);t(Y,Ot),X&&X.m(Y,null),t(P,qt),t(P,I),t(I,dt),t(dt,Ct),t(I,Ft),t(I,Rt),t(I,Vt);for(let T=0;T<G.length;T+=1)G[T]&&G[T].m(I,null);t(I,Et),t(I,xe),t(xe,Ht),t(I,Wt),t(I,et),t(et,Jt),t(et,Re),ee(Re,l[8]),t(I,Yt),t(I,tt),t(tt,zt),t(tt,Ve),ee(Ve,l[9]),t(I,Gt),t(I,De),t(De,Ye),t(Ye,ue),ue.checked=ue.__value===l[11],t(Ye,Kt),t(De,Qt),t(De,ze),t(ze,ce),ce.checked=ce.__value===l[11],t(ze,Xt),t(De,Zt),t(De,Ge),t(Ge,_e),_e.checked=_e.__value===l[11],t(Ge,St),t(I,$t),Z&&Z.m(I,null),t(I,yt),t(I,Le),t(Le,xt),t(Le,Ke),Ke.checked=l[13],t(Le,el),S&&S.m(Le,null),t(I,tl),t(I,Ue),t(Ue,ll),t(Ue,Qe),Qe.checked=l[15],t(Ue,nl),$&&$.m(Ue,null),t(I,sl),t(I,He),t(He,al),t(I,rl),x&&x.m(I,null),ol||(ml=[L(A,"input",l[28]),L(O,"click",l[22]),L(re,"click",l[23]),L(J,"input",l[29]),L(Q,"input",l[30]),L(de,"change",l[31]),L(Ne,"click",l[32]),L(Ie,"click",l[33]),L(w,"click",l[34]),L(Me,"click",l[35]),L(Je,"click",l[36]),L(xe,"click",l[39]),L(Re,"input",l[40]),L(Ve,"input",l[41]),L(ue,"change",l[42]),L(ce,"change",l[44]),L(_e,"change",l[45]),L(Ke,"change",l[47]),L(Qe,"change",l[49]),L(He,"click",l[52])],ol=!0)},p(e,f){if(f[0]&32&&A.value!==e[5]&&ee(A,e[5]),f[0]&64&&me(W,e[6]),f[0]&4&&ge(J.value)!==e[2]&&ee(J,e[2]),f[0]&8&&ge(Q.value)!==e[3]&&ee(Q,e[3]),f[0]&16&&(de.checked=e[4]),f[0]&262144&&we!==(we=e[18].length+"")&&me(Pe,we),f[0]&1&&Ee!==(Ee=e[0].length+"")&&me(je,Ee),f[0]&2&&Ze!==(Ze=ye(e[1]==e[20].Name?"sorting_asc":"sorting")+" svelte-1sg2hnm")&&b(qe,"class",Ze),f[0]&2&&Se!==(Se=ye(e[1]==e[20].Coverage?"sorting_desc":"sorting")+" svelte-1sg2hnm")&&b(Ce,"class",Se),f[0]&2&&M!==(M=ye(e[1]==e[20].Learning?"sorting_desc":"sorting")+" svelte-1sg2hnm")&&b(D,"class",M),f[0]&2&&mt!==(mt=ye(e[1]==e[20].VocabCount?"sorting_desc":"sorting")+" svelte-1sg2hnm")&&b(Fe,"class",mt),f[0]&2&&wt!==(wt=ye(e[1]==e[20].WordCount?"sorting_desc":"sorting")+" svelte-1sg2hnm")&&b($e,"class",wt),f[0]&262272){lt=e[18];let T;for(T=0;T<lt.length;T+=1){const We=Ll(e,lt,T);z[T]?z[T].p(We,f):(z[T]=Ul(We),z[T].c(),z[T].m(ke,null))}for(;T<z.length;T+=1)z[T].d(1);z.length=lt.length}if(e[0].length>0?X?X.p(e,f):(X=Al(e),X.c(),X.m(Y,null)):X&&(X.d(1),X=null),f[0]&128){nt=e[7];let T;for(T=0;T<nt.length;T+=1){const We=Dl(e,nt,T);G[T]?G[T].p(We,f):(G[T]=Ol(We),G[T].c(),G[T].m(I,Et))}for(;T<G.length;T+=1)G[T].d(1);G.length=nt.length}f[0]&256&&Re.value!==e[8]&&ee(Re,e[8]),f[0]&512&&ge(Ve.value)!==e[9]&&ee(Ve,e[9]),f[0]&2048&&(ue.checked=ue.__value===e[11]),f[0]&2048&&(ce.checked=ce.__value===e[11]),f[0]&2048&&(_e.checked=_e.__value===e[11]),e[11]==e[19].BijakMerge?Z?Z.p(e,f):(Z=ql(e),Z.c(),Z.m(I,yt)):Z&&(Z.d(1),Z=null),f[0]&8192&&(Ke.checked=e[13]),e[13]?S?S.p(e,f):(S=Cl(e),S.c(),S.m(Le,null)):S&&(S.d(1),S=null),f[0]&32768&&(Qe.checked=e[15]),e[15]?$?$.p(e,f):($=Rl(e),$.c(),$.m(Ue,null)):$&&($.d(1),$=null),f[0]&128&&Tt!==(Tt=e[7].length<=0)&&(He.disabled=Tt),e[12]!=null?x?x.p(e,f):(x=Vl(e),x.c(),x.m(I,null)):x&&(x.d(1),x=null)},i:It,o:It,d(e){e&&s(n),e&&s(c),e&&s(g),e&&s(N),e&&s(m),e&&s(C),e&&s(A),e&&s(te),e&&s(O),e&&s(F),e&&s(ne),e&&s(se),e&&s(R),e&&s(K),e&&s(re),e&&s(pe),e&&s(J),e&&s(be),e&&s(Q),e&&s(Te),e&&s(de),e&&s(ie),e&&s(P),kl(z,e),X&&X.d(),kl(G,e),Z&&Z.d(),S&&S.d(),$&&$.d(),x&&x.d(),il.r(),ol=!1,Hl(ml)}}}function bl(l,n){const a=[];for(const i of l)for(const h of i){const r=a.find(c=>c.vid===h.vid&&c.sid===h.sid);r!=null?(r.occurences+=h.occurences,r.decks+=1):a.push({decks:1,...h})}return a.filter(i=>i.decks>=n)}function Xl(l,n,a){let i;var h=(_=>(_[_.Merge=0]="Merge",_[_.Intersect=1]="Intersect",_[_.BijakMerge=2]="BijakMerge",_))(h||{}),r=(_=>(_[_.Name=0]="Name",_[_.Coverage=1]="Coverage",_[_.Learning=2]="Learning",_[_.WordCount=3]="WordCount",_[_.VocabCount=4]="VocabCount",_))(r||{});let c="",g="",k=[],N=0,m=0,B=0,C=!1,A=[],te="",O=1,le=1,F=0,ne=null,H=!1,se=["new","locked","learning","known","due","failed","never-forget","suspended","blacklisted"],R=se[0],fe=!1,W=1,ae=3e4;async function K(_,w){let D=new Headers;return D.set("Authorization","Bearer "+c),D.set("Content-Type","application/json"),await fetch("https://jpdb.io/api/v1/"+_,{headers:D,method:"POST",body:JSON.stringify(w)})}async function re(){const w=await(await K("ping",{})).json();a(6,g=JSON.stringify(w)),g=="{}"&&a(6,g="Token confirmed as correct.")}async function he(){const w=await(await K("list-user-decks",{fields:["name","vocabulary_known_coverage","vocabulary_in_progress_coverage","is_built_in","id","word_count","vocabulary_count"]})).json();a(0,k=w.decks.map(D=>{let[M,q,Be,ft,ht,Me,Fe]=D;return{name:M,id:ht,known_coverage:q??0,learning_coverage:Be??0,is_built_in:ft,word_count:Me,vocab_count:Fe}})),k.sort((D,M)=>D.name.localeCompare(M.name))}async function pe(_){const w=await(await K("deck/list-vocabulary",{id:_.id,fetch_occurences:!0})).json();let D=[];for(let M=0;M<w.vocabulary.length;M++){let q={vid:w.vocabulary[M][0],sid:w.vocabulary[M][1],occurences:w.occurences[M]};D.push(q)}return{vocabs:D,..._}}async function J(_){const w=_.map(q=>[q.vid,q.sid]),D=await(await K("lookup-vocabulary",{list:w,fields:["card_state","frequency_rank"]})).json();let M=[];for(let q=0;q<D.vocabulary_info.length;q++)M.push({state:D.vocabulary_info[q][0],frequency:D.vocabulary_info[q][1],..._[q]});return M}async function be(_,w){let D=[],M=[];w.forEach(Be=>{D.push([Be.vid,Be.sid]),M.push(Be.occurences)});const q=await(await K("deck/add-vocabulary",{id:_,vocabulary:D,occurences:M})).json();a(6,g=JSON.stringify(q))}async function Q(_){return(await(await K("deck/create-empty",{name:_})).json()).id}const Te=[[]];function de(){c=this.value,a(5,c)}function ie(){m=ge(this.value),a(2,m)}function P(){B=ge(this.value),a(3,B)}function Y(){C=this.checked,a(4,C)}const oe=_=>a(1,N=r.Name),Ae=_=>a(1,N=r.Coverage),we=_=>a(1,N=r.Learning),Pe=_=>a(1,N=r.VocabCount),Oe=_=>a(1,N=r.WordCount),Ee=_=>{A.push(_),a(7,A)},je=async()=>{a(7,A=A.concat(i))},it=()=>{a(7,A=[])};function ot(){te=this.value,a(8,te)}function ke(){O=ge(this.value),a(9,O)}function V(){F=this.__value,a(11,F)}function Ne(){F=this.__value,a(11,F)}function qe(){F=this.__value,a(11,F)}function Ze(){le=ge(this.value),a(10,le)}function ut(){H=this.checked,a(13,H)}function ct(){R=Kl(this),a(14,R),a(21,se)}function Ie(){fe=this.checked,a(15,fe)}function Ce(){W=ge(this.value),a(16,W)}function Se(){ae=ge(this.value),a(17,ae)}const _t=async()=>{if(te!==""){a(12,ne=null);const _=[];for(const M of A){const q=await pe(M);_.push(q.vocabs)}let w;switch(F){case h.Merge:w=bl(_,1);break;case h.Intersect:w=bl(_,_.length);break;case h.BijakMerge:w=bl(_,le);break}w=w.filter(M=>M.occurences>=O),(H||fe)&&(w=await J(w),H&&(w=w.filter(M=>M.state[0]===R)),fe&&(w=w.filter(M=>W<=M.frequency&&M.frequency<=ae)));const D=await Q(te);await be(D,w),a(12,ne={id:D,name:te})}};return l.$$.update=()=>{l.$$.dirty[0]&31&&a(18,i=k.filter(_=>_.known_coverage>=m&&_.learning_coverage>=B&&(_.is_built_in||!C)).sort((_,w)=>{switch(N){case 0:return _.name.localeCompare(w.name);case 1:return w.known_coverage-_.known_coverage;case 2:return w.learning_coverage-_.learning_coverage;case 3:return w.word_count-_.word_count;case 4:return w.vocab_count-_.vocab_count}}))},[k,N,m,B,C,c,g,A,te,O,le,F,ne,H,R,fe,W,ae,i,h,r,se,re,he,pe,J,be,Q,de,ie,P,Y,oe,Ae,we,Pe,Oe,Ee,je,it,ot,ke,V,Te,Ne,qe,Ze,ut,ct,Ie,Ce,Se,_t]}class Sl extends Wl{constructor(n){super(),Jl(this,n,Xl,Ql,Yl,{},null,[-1,-1])}}export{Sl as component};
